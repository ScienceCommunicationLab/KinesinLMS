<style>
  .launch-htmx-indicator {
    display: none;
    position: relative;
  }

  .htmx-request .launch-htmx-indicator {
    display: flex;
  }

  .htmx-request.launch-htmx-indicator {
    display: flex;
  }
</style>


<div id="jupyter-lab-view-{{ block.id }}">
  <div class="d-flex flex-row">
    <a hx-get="{% url 'external_tools:launch_jupyter_lab_view_hx' pk=block.id %}"
       hx-target="#jupyter-lab-view-{{ block.id }}"
       hx-swap="outerHTML"
       hx-indicator="#launch-jupyter-lab-spinner-{{ block.id }}"
       class="btn btn-primary">Launch Tool</a>

    <div id="launch-jupyter-lab-spinner-{{ block.id }}"
         class="launch-htmx-indicator">
      <div class="spinner d-flex flex-row ms-3 align-items-center">
        <div class="spinner-border text-primary" role="status">
          <span class="visually-hidden">Loading JupyterLab tool...</span>
        </div>
        <div class="spinner-message ms-2">Loading JupyterLab tool ...</div>
      </div>
    </div>
  </div>

</div>
