<style>
  .launch-htmx-indicator {
    display: none;
    position: relative;
  }

  .htmx-request .launch-htmx-indicator {
    display: flex;
  }

  .htmx-request.launch-htmx-indicator {
    display: flex;
  }
</style>


<div id="external-tool-view-{{ block.external_tool_view.id }}">
  <div class="d-flex flex-row">
    <a hx-get="{% url 'external_tools:launch_external_tool_view_hx' pk=block.external_tool_view.id %}"
       hx-target="#external-tool-view-{{ block.external_tool_view.id }}"
       hx-swap="outerHTML"
       hx-indicator="#launch-spinner-{{ block.external_tool_view.id }}"
       class="btn btn-primary">Launch Tool</a>

    <div id="launch-spinner-{{ block.external_tool_view.id }}"
         class="launch-htmx-indicator">
      <div class="spinner d-flex flex-row ms-3 align-items-center">
        <div class="spinner-border text-primary" role="status">
          <span class="visually-hidden">Loading external tool...</span>
        </div>
        <div class="spinner-message ms-2">Loading external tool ...</div>
      </div>
    </div>
  </div>

</div>
